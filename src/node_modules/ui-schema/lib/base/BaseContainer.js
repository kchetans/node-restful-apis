let BaseComponent = require('./BaseComponent');
let map           = require('lodash/map');
let chalk         = require('chalk');

class BaseContainer extends BaseComponent {

    //setPadding('0 0 100px 0 ')
    setPadding(padding) {
        this.config.padding = padding;
        return this;
    }

    setMargin(margin) {
        this.config.margin = margin;
        return this;
    }

    addContent(contentFactory) {
        if (contentFactory instanceof Array) {
            map(contentFactory, (contentFactoryItem, index) => {
                this.addContent(contentFactoryItem)
            })
        } else {
            if (!this.config.fields)
                this.config.fields = [];
            try {
                this.config.fields.push(contentFactory.render());
            } catch (err) {
                console.log(chalk.yellow('Don\'t use render() on addContent'));
                this.config.fields.push(contentFactory);
            }
        }
        return this;
    };

    setContent(contentFactory) {
        if (contentFactory instanceof Array) {
            map(contentFactory, contentFactoryItem => {
                this.addContent(contentFactoryItem);
            });
        } else {
            this.addContent(contentFactory);
        }
        return this;
    };

}

module.exports = BaseContainer;
