let {WxComponents, WebHookConstants} =  require('../constants');
let BaseComponent                    = require('./base/BaseComponent');
let map                              = require('lodash/map');

class FormComponent extends BaseComponent {

    static init(param) {
        return new FormComponent(param);
    }

    constructor(param) {
        super(param);
        this.config = {'type': WxComponents.PAGE};
    }

    setSubTitle(subTitle) {
        this.config.subTitle = subTitle;
        return this;
    }

    setAvatar(avatar) {
        this.config.avatar = avatar;
        return this;
    }

    addContents(contentFactory) {
        if (!this.config.fields)
            this.config.fields = [];
        map(contentFactory, (contentItem, index) => {
            this.config.fields.push(contentItem);
        });
        return this;
    };
}

module.exports = FormComponent;
