let {WxComponents, WebHookConstants} =  require('../constants');
let BaseContainer                    = require('./base/BaseContainer');
let map                              = require('lodash/map');

class Form extends BaseContainer {

    static init(param) {
        return new Form(param);
    }

    constructor(param) {
        super(param);
        this.config = {'type': WxComponents.FORM, fields: [], submitText: 'Submit'};
    }

    setWebhook(url, method = WebHookConstants.GET_METHOD, header, body) {
        this.config.webhook = {
            url, method, header, body
        };
        return this;
    }

    setSubmitText(submitText) {
        this.config.submitText = submitText;
        return this;
    }
}

module.exports = Form;
